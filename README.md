# fat_kill

ディレクトリサイズ表示アプリケーション「fat_kill」  
**仮リリース版**

## 概要

「fat_kill」は、指定したディレクトリ配下の各サブディレクトリのサイズを計算し、ツリー形式で表示するアプリケーションです。  
現状は**Pythonのみ**で実装され、主にGUIには**PyQt6**を利用してユーザーインターフェースを提供しています。

## 使用ライブラリ

- **PyQt6**  
  グラフィカルユーザーインターフェースの提供に利用。

- **colorama**  
  コンソール出力の色設定（内部処理用）。

- **pytest** および **pytest-qt**  
  単体テストと PyQt6 向けのテスト支援用。

- **maturin**  
  Rust との連携（将来の高速化実装に向けた準備）。

- **pyinstaller**  
  EXE 化する際のパッケージ生成用。

## プロジェクトの挙動

- **ディレクトリ選択とスキャン**  
  ユーザーはディレクトリ選択ダイアログから対象ディレクトリを指定し、選択されたディレクトリ配下のサブディレクトリのサイズを計算します。  
  隠しディレクトリやアクセス不可となったディレクトリは、視覚的に区別され、エラーハンドリングにより適切に表示されます。

- **マルチスレッド処理**  
  スキャン処理は別スレッドで実行され、処理中もUIの応答性が維持されます。

- **エラーハンドリング**  
  各種例外発生時にはエラーメッセージが表示される仕組みになっており、UI上で警告ダイアログとして通知されます。

## 仮想環境と Poetry の利用

本プロジェクトは **Poetry** を使用して依存関係の管理および仮想環境の構築を行っています。  
- 依存ライブラリは `pyproject.toml` に記載されています。  
- 開発時には `poetry install` により必要なパッケージが自動的にインストールされ、仮想環境内での実行が推奨されます。

## ビルドと実行方法

### 開発環境での実行

1. 仮想環境の構築・依存パッケージのインストール:
   ```bash
   poetry install
   ```

2. アプリケーションの起動:
   ```bash
   poetry run python py_app/main.py
   ```

### EXE化

**PyInstaller** を用いて単一実行ファイル（onefile）としてバンドルすることができます:
```bash
poetry run pyinstaller --onefile --windowed py_app/main.py
```
生成された実行ファイルは `dist` ディレクトリに生成されます。

## 今後の開発予定

- **Rust によるディレクトリ探索機能の高速化**  
  現在 Python で実装されているディレクトリ探索機能を、Rust で再実装することで高速化を目指します。  
  Rust との連携は、pyo3 や maturin を用いる予定です。

- その他 UI の改善、エラーハンドリングの更なる強化、テストの充実なども進めていく予定です。

## Git 運用方針

現状、**main ブランチ** とは別にサブプロジェクトとして開発を進めています。  
後日、別ブランチ（例: `subproject`）の内容を main ブランチへ統合する予定です。  
※ Git の詳細な運用方法については、プロジェクト内の Git 管理ドキュメントも合わせてご参照ください。

## リポジトリ

[GitHub - toma4423/fat_kill](https://github.com/toma4423/fat_kill)
